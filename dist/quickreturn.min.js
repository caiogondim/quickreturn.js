/*!
  quickreturn.js v0.0.0
  http://quickreturnjs.caiogondim.com
*/
!function(a){"use strict";function b(a){return this instanceof b?(this._validateElSelector(a),this._el=this._getEl(a),this._elOffsetTop=this._el.offsetTop,this._elClone=null,this._originalStyle=null,this._isTicking=!1,this):new b}var c,d=window.scrollY;b.prototype.init=function(){return this._saveCurStyle(),this._createClone(),this._hideClone(),this._setupEl(this._el),this._bindScrollListener(),this},b.prototype.destroy=function(){return this._unbindScrollListener(),this._recoversPrevStyle(),this},b.prototype._validateElSelector=function(a){if(document.querySelectorAll(a)>1)throw new Error("There is more than one DOM node that matches with the selector passed as argument.");if(null===document.querySelector(a))throw new Error("There is no DOM node that matches the passed selector.")},b.prototype._getEl=function(a){var b=document.querySelector(a);return b},b.prototype._createClone=function(){this._elClone=this._el.cloneNode(!0),this._elClone=this._el.parentNode.insertBefore(this._elClone,this._el)},b.prototype._hideClone=function(){this._elClone.style.display="none"},b.prototype._showClone=function(){this._elClone.style.display=this._originalStyle.display},b.prototype._saveCurStyle=function(){this._originalStyle={top:this._el.style.top,position:this._el.style.position,display:this._el.style.display}},b.prototype._recoversPrevStyle=function(){this._el.style.top=this._originalStyle.top,this._el.style.position=this._originalStyle.position},b.prototype._getTopZindex=function(){var a=document.querySelectorAll("*"),b=0;return Array.prototype.forEach.call(a,function(a){var c=parseInt(a.style.zIndex,10);c>b&&(b=c)}),b},b.prototype._setupEl=function(a){a.className=a.className+" quickreturn",a.style.zIndex=this._getTopZindex()+1},b.prototype._bindScrollListener=function(){this._rAFscrollhandler=this._rAFscrollhandler.bind(this),this._vanillaScrollHandler=this._vanillaScrollHandler.bind(this),window.requestAnimationFrame?window.addEventListener("scroll",this._rAFscrollhandler):window.addEventListener("scroll",this._vanillaScrollHandler)},b.prototype._unbindScrollListener=function(){window.removeEventListener("scroll",this._rAFscrollhandler),window.removeEventListener("scroll",this._vanillaScrollHandler)},b.prototype._vanillaScrollHandler=function(){c=window.scrollY,this._shouldUpdatePosition(c,d)&&this._updatePosition()},b.prototype._shouldUpdatePosition=function(a,b){return 0>a||a>document.body.clientHeight-window.innerHeight?!1:a===b?!1:!0},b.prototype._isScrollingUp=function(a,b){var c=null;return a>b?c=!1:b>a&&(c=!0),c},b.prototype._isScrollingDown=function(a,b){return!this._isScrollingUp(a,b)},b.prototype._isFullyInViewport=function(a){var b=a.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight;return b.top>=0&&b.bottom<=c},b.prototype._isPartiallyInViewport=function(a){var b=a.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight;return b.top>0&&b.top<c||b.bottom>0&&b.bottom<c},b.prototype._updatePosition=function(){c<=this._elOffsetTop?(this._recoversPrevStyle(),this._hideClone()):this._isScrollingUp(c,d)&&this._isFullyInViewport(this._el)?(this._el.style.position="fixed",this._el.style.top=0,this._showClone()):this._isScrollingUp(c,d)&&!this._isPartiallyInViewport(this._el)?(this._el.style.position="absolute",this._el.style.top=""+(c-this._el.offsetHeight)+"px",this._showClone()):this._isScrollingDown(c,d)&&this._isFullyInViewport(this._el)&&c>this._elOffsetTop&&(this._el.style.position="absolute",this._el.style.top=c+"px",this._showClone()),d=window.scrollY,this._isTicking=!1},b.prototype._rAFscrollhandler=function(){c=window.scrollY,!this._isTicking&&this._shouldUpdatePosition(c,d)&&(requestAnimationFrame(this._updatePosition.bind(this)),this._isTicking=!0)},a.QuickReturn=b}("object"==typeof exports&&exports||this);
//# sourceMappingURL=quickreturn.min.js.map